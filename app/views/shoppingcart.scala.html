
@(items: List[CartItem], Total: Double)

@main("Shopping Cart") {


		<div class="row">
			<div class="col-sm-12">
				<table class="table table-striped table-bordered">
					<tbody>
						<tr>
							<th>Product Name</th>
							<th>Price</th>
							<th>Quantity</th>
						</tr>
						@for(item <- items) {
							<tr>
								<td>@item.product.productName</td>
								<td>$@item.product.productPrice</td>
								<td>@item.quantity</td>
							</tr>
						}
					</tbody>
				</table>
				Total cost: $@Total
				<button type="submit" id="checkoutButton" class="btn btn-primary"> Checkout </button>
				<div id="purchase">
					<div style="margin-top:5px"></div>
						<input type="number" max="@Total" id="payment" value="" class="form-control" placeholder="total">
					<div style="margin-top:5px"></div>
					<div style="margin-top:5px"></div>
					<div class="col-md-offset-1">
						<button type="submit" id="purchaseButton" class="btn btn-primary"> Submit Order </button>
					</div>
					<div style="margin-top:5px"></div>
						<span id="error" style="color:red">Please enter correct amount!</span>
				</div>
			</div>
	    </div>
	    <script>
	    $( document ).ready(function() {
	    	$("#purchase").hide();
	    	$("#error").hide();
	    	$("#checkoutButton").click( function(){
	    		$("#purchase").show();
	    	});
	    	$("#purchaseButton").click( function() {
	    		if($("#payment").val() != @Total) {
	    			$("#error").show();
	    		} else {
	    			window.location.replace("/purchase");
	    		}
	    	});
	    });
	    </script>

}